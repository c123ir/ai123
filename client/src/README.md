# ساختار پوشه‌ای پروژه

## معرفی

این پروژه دارای ساختار ماژولار است که بخش‌های ادمین و کاربر را کاملاً از یکدیگر جدا می‌کند. این تفکیک باعث می‌شود که توسعه هر بخش بدون تاثیر بر بخش دیگر انجام شود.

## ساختار کلی

```
src/
├── modules/
│   ├── admin/               # بخش مدیریت (ادمین)
│   │   ├── components/      # کامپوننت‌های مختص ادمین
│   │   ├── pages/           # صفحات پنل ادمین
│   │   ├── routes/          # مسیریابی‌های ادمین
│   │   ├── hooks/           # هوک‌های مختص ادمین
│   │   ├── services/        # سرویس‌های API مختص ادمین
│   │   ├── store/           # استور ریداکس مختص ادمین
│   │   ├── utils/           # توابع کمکی مختص ادمین
│   │   ├── types/           # تایپ‌های مختص ادمین
│   │   └── index.ts         # نقطه ورود ماژول ادمین
│   │
│   ├── user/                # بخش کاربران (فرانت)
│   │   ├── components/      # کامپوننت‌های مختص کاربر
│   │   ├── pages/           # صفحات کاربر
│   │   ├── routes/          # مسیریابی‌های کاربر
│   │   ├── hooks/           # هوک‌های مختص کاربر
│   │   ├── services/        # سرویس‌های API مختص کاربر
│   │   ├── store/           # استور ریداکس مختص کاربر
│   │   ├── utils/           # توابع کمکی مختص کاربر
│   │   ├── types/           # تایپ‌های مختص کاربر
│   │   └── index.ts         # نقطه ورود ماژول کاربر
│   │
│   └── shared/              # عناصر مشترک بین ادمین و کاربر
│       ├── components/      # کامپوننت‌های مشترک
│       ├── hooks/           # هوک‌های مشترک
│       ├── services/        # سرویس‌های مشترک
│       ├── utils/           # توابع کمکی مشترک
│       ├── types/           # تایپ‌های مشترک
│       └── constants/       # ثابت‌های مشترک
│
├── core/                    # هسته اصلی برنامه
│   ├── config/              # تنظیمات برنامه
│   ├── context/             # کانتکست‌های اصلی
│   ├── styles/              # استایل‌های کلی
│   ├── i18n/                # چندزبانگی
│   └── auth/                # احراز هویت
│
├── App.tsx                  # کامپوننت اصلی
└── index.tsx                # نقطه ورود برنامه
```

## مزایای این ساختار

1. **تفکیک کامل**: بخش‌های ادمین و کاربر کاملاً جدا هستند.
2. **کاهش وابستگی**: هر ماژول می‌تواند مستقل توسعه یابد.
3. **قابلیت توسعه آسان**: اضافه کردن ویژگی‌های جدید به هر بخش، بدون تاثیر بر بخش دیگر.
4. **کد بهتر سازمان‌دهی شده**: مسیریابی، کامپوننت‌ها و منطق هر بخش در یک محل متمرکز است.
5. **اشتراک‌گذاری کد**: ماژول `shared` برای کدهای مشترک.

## نحوه مسیریابی

مسیریابی در دو بخش جداگانه انجام می‌شود:

1. **مسیریابی ادمین**: تمام مسیرهای با پیشوند `/admin` به کامپوننت `AdminLayout` هدایت می‌شوند و از آنجا به مسیریابی داخلی `AdminRoutes` منتقل می‌شوند.

2. **مسیریابی کاربر**: تمام مسیرهای دیگر به کامپوننت `UserLayout` هدایت می‌شوند و از آنجا به مسیریابی داخلی `UserRoutes` منتقل می‌شوند.

## نحوه احراز هویت

دو سیستم احراز هویت مجزا وجود دارد:

1. **احراز هویت ادمین**: توکن در `localStorage` با کلید `admin_token` ذخیره می‌شود.
2. **احراز هویت کاربر**: توکن در `localStorage` با کلید `user_token` ذخیره می‌شود.

این جداسازی امنیت بیشتری را فراهم می‌کند و از تداخل سیستم‌های احراز هویت جلوگیری می‌کند.

## نحوه استفاده از API

هر بخش سرویس‌های API خود را دارد که از نام‌های مناسب استفاده می‌کنند:

1. **API ادمین**: تمام مسیرهای API ادمین با پیشوند `/admin` شروع می‌شوند.
2. **API کاربر**: مسیرهای API کاربر بدون پیشوند خاصی هستند.

## اضافه کردن ویژگی جدید

برای اضافه کردن یک ویژگی جدید، مراحل زیر را دنبال کنید:

1. مشخص کنید که ویژگی جدید مربوط به کدام بخش است (ادمین یا کاربر).
2. فایل‌های مربوطه را در پوشه‌های مناسب در ماژول مربوطه ایجاد کنید.
3. در صورت نیاز، مسیر جدیدی در فایل مسیریابی مربوطه اضافه کنید.
4. اگر ویژگی جدید نیاز به API دارد، آن را در فایل سرویس API مربوطه اضافه کنید. 