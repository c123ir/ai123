# چک‌لیست جامع توسعه پروژه دستیار هوشمند ۱۲۳ (ورژن ۲)

<div dir="rtl">

## ۱. بررسی و خطایابی ساختار پروژه

### ۱.۱. ساختار فایل‌های کلاینت

- [ ] **بررسی فایل‌های اصلی:**

  - [ ] `client/src/index.tsx`: نقطه ورودی برنامه (شامل BrowserRouter، Provider و ConfigProvider)
  - [ ] `client/src/App.tsx`: کامپوننت اصلی برنامه (شامل Routes و Suspense)
  - [ ] `client/tsconfig.json`: تنظیمات TypeScript و الیاس‌ها
- [ ] **بررسی ساختار فعلی پوشه‌ها:**

  - [ ] `client/src/components`: کامپوننت‌های فعلی
  - [ ] `client/src/pages`: صفحات برنامه
  - [ ] `client/src/routes`: مسیرهای برنامه
  - [ ] `client/src/context`: کانتکست‌های React
  - [ ] `client/src/hooks`: هوک‌های سفارشی
  - [ ] `client/src/services`: سرویس‌های API و ارتباط با سرور
  - [ ] `client/src/utils`: توابع کمکی
  - [ ] `client/src/assets`: فایل‌های استاتیک
  - [ ] `client/src/store`: مدیریت state با Redux
  - [ ] `client/src/theme`: تنظیمات تم

### ۱.۲. بررسی فایل‌های سرور

- [ ] **بررسی فایل‌های اصلی:**

  - [ ] `server/src/index.ts`: نقطه ورودی سرور
  - [ ] `server/src/app.ts`: تنظیمات اصلی اپلیکیشن Express
  - [ ] `server/tsconfig.json`: تنظیمات TypeScript سرور
- [ ] **بررسی ساختار فعلی پوشه‌های سرور:**

  - [ ] `server/src/controllers`: کنترلرهای API
  - [ ] `server/src/routes`: مسیرهای API
  - [ ] `server/src/models`: مدل‌های داده
  - [ ] `server/src/middlewares`: میدلورها
  - [ ] `server/src/services`: سرویس‌های تجاری
  - [ ] `server/src/utils`: توابع کمکی
  - [ ] `server/src/config`: تنظیمات و پیکربندی‌ها

### ۱.۳. بررسی وابستگی‌ها و کتابخانه‌ها

- [ ] **بررسی فایل‌های package.json:**

  - [ ] `client/package.json`: بررسی وابستگی‌های کلاینت
  - [ ] `server/package.json`: بررسی وابستگی‌های سرور
- [ ] **شناسایی کتابخانه‌های متضاد یا قدیمی:**

  - [ ] بررسی وجود همزمان Material UI و Ant Design
  - [ ] بررسی نسخه‌های کتابخانه‌ها و به‌روزرسانی آن‌ها

## ۲. ایجاد ساختار ماژولار

### ۲.۱. ایجاد ساختار اصلی ماژول‌ها در کلاینت

- [X] **ایجاد ساختار پوشه ماژول‌ها:**

  ```
  client/src/modules/
  ├── shared/              # کامپوننت‌ها و سرویس‌های مشترک
  ├── admin/               # ماژول مدیریت
  ├── user/                # ماژول کاربران
  ├── token/               # ماژول توکن مانیبل
  └── advisor/             # ماژول مشاوره هوشمند
  ```
- [X] **ایجاد ساختار داخلی هر ماژول:**

  ```
  client/src/modules/[module-name]/
  ├── components/          # کامپوننت‌های ماژول
  ├── pages/               # صفحات ماژول
  ├── services/            # سرویس‌های ماژول
  ├── hooks/               # هوک‌های ماژول
  ├── utils/               # توابع کمکی ماژول
  ├── store/               # استور Redux ماژول (اختیاری)
  └── types/               # تایپ‌های TypeScript ماژول
  ```

### ۲.۲. ایجاد ساختار ماژولار سرور

- [ ] **ایجاد ساختار پوشه ماژول‌ها در سرور:**

  ```
  server/src/modules/
  ├── shared/              # سرویس‌ها و میدلورهای مشترک
  ├── admin/               # ماژول مدیریت
  ├── user/                # ماژول کاربران
  ├── token/               # ماژول توکن مانیبل
  └── advisor/             # ماژول مشاوره هوشمند
  ```
- [ ] **ایجاد ساختار داخلی هر ماژول سرور:**

  ```
  server/src/modules/[module-name]/
  ├── controllers/         # کنترلرهای API
  ├── routes/              # مسیرهای API
  ├── services/            # سرویس‌های تجاری
  ├── models/              # مدل‌های داده
  ├── dto/                 # تایپ‌های DTO
  └── utils/               # توابع کمکی ماژول
  ```

## ۳. مهاجرت به Ant Design و اصلاح سیستم تم

### ۳.۱. حذف Material UI و راه‌اندازی Ant Design

- [X] **حذف وابستگی‌های Material UI:**

  - [X] حذف `@mui/material` و پکیج‌های وابسته از package.json
  - [X] حذف استایل‌های اختصاصی Material UI
- [X] **نصب و پیکربندی Ant Design:**

  - [X] نصب `antd` و `@ant-design/icons`
  - [X] نصب `@ant-design/charts` برای نمودارها
  - [X] پیکربندی Ant Design در `client/src/index.tsx`

### ۳.۲. پیاده‌سازی سیستم تم

- [ ] **ایجاد فایل‌های تم جدید:**

  - [ ] `client/src/theme/lightTheme.ts`: تم روشن
  - [ ] `client/src/theme/darkTheme.ts`: تم تاریک
  - [ ] `client/src/theme/index.ts`: صادرات تم‌ها
- [ ] **پیاده‌سازی کانتکست تم:**

  - [ ] ایجاد `client/src/modules/shared/context/ThemeContext.tsx`
  - [ ] پیاده‌سازی تغییر تم (روشن/تاریک)
  - [ ] پیاده‌سازی تغییر جهت (RTL/LTR)

### ۳.۳. مهاجرت کامپوننت‌ها به Ant Design

- [X] **مهاجرت کامپوننت‌های پایه:**

  - [X] Button، Input، Form، Modal، Table، Card، etc.
  - [X] استفاده از الگوی Compound Components برای فرم‌ها
- [ ] **مهاجرت کامپوننت‌های داشبورد:**

  - [ ] نمودارها با استفاده از Ant Design Charts
  - [ ] کارت‌های آماری با Statistic
  - [ ] جداول داده با Table

## ۴. پیاده‌سازی ماژول‌های کلیدی

### ۴.۱. ماژول shared (مشترک)

- [X] **کامپوننت‌های پایه:**

  - [X] `Button`, `Card`, `Input`, `Modal`, `Table`, etc.
  - [X] `Layout` (AdminLayout، UserLayout، SimpleLayout)
  - [X] `ErrorBoundary`, `LoadingSpinner`, `NotFound`, etc.
- [X] **سرویس‌های مشترک:**

  - [X] `authService`: مدیریت احراز هویت
  - [X] `apiService`: کلاس پایه برای ارتباط با API
  - [X] `storageService`: مدیریت localStorage و sessionStorage
- [X] **هوک‌های مشترک:**

  - [X] `useAuth`: دسترسی به اطلاعات احراز هویت
  - [X] `useApi`: هوک برای درخواست‌های API
  - [X] `useLocalStorage`: مدیریت state در localStorage

### ۴.۲. ماژول توکن مانیبل

- [X] **کامپوننت‌های توکن:**

  - [X] `TokenBalance`: نمایش موجودی توکن
  - [X] `TokenHistory`: تاریخچه تراکنش‌های توکن
  - [X] `TokenExchange`: تبدیل و استفاده از توکن
- [X] **صفحات توکن:**

  - [X] `TokenDashboard`: داشبورد مدیریت توکن
  - [ ] `TokenMarket`: بازار تبادل توکن
  - [ ] `TokenRewards`: پاداش‌های قابل دریافت با توکن
- [X] **سرویس‌های توکن:**

  - [X] `tokenService`: سرویس اصلی توکن
  - [X] `tokenTransactionService`: سرویس تراکنش‌های توکن
  - [ ] `tokenRewardService`: سرویس پاداش‌های توکن

### ۴.۳. ماژول مشاوره هوشمند

- [X] **طراحی ساختار و کامپوننت‌های مورد نیاز ماژول:**

  - [X] طراحی ساختار پوشه‌های ماژول
  - [X] طراحی نوع‌های داده (Types) مورد نیاز
  - [X] طراحی Redux Slice برای مدیریت وضعیت
  - [X] طراحی سرویس API مشاوره
  - [X] طراحی کامپوننت‌های ماژول
    - [X] AdvisorList - لیست مشاوران
    - [X] SessionBookingForm - فرم رزرو جلسه مشاوره
    - [X] SessionDetail - نمایش جزئیات جلسه
    - [X] SessionList - لیست جلسات مشاوره
- [X] **صفحات ماژول:**

  - [X] AdvisorsListPage - صفحه لیست مشاوران
  - [X] AdvisorPage - صفحه پروفایل مشاور
  - [X] SessionsPage - صفحه لیست جلسات کاربر
  - [X] SessionDetailPage - صفحه جزئیات جلسه
- [X] **مسیریابی ماژول:**

  - [X] پیاده‌سازی مسیریابی ماژول
  - [X] پیاده‌سازی توابع تبدیل متن‌های انگلیسی به فارسی
- [X] **مستندسازی ماژول:**

  - [X] مستندسازی ماژول

### ۴.۴. ماژول admin (مدیریت)

- [ ] **کامپوننت‌های ادمین:**

  - [ ] `AdminLayout`: لایه اصلی پنل مدیریت
  - [ ] `StatisticsCards`: کارت‌های آماری
  - [ ] `UserManagementTable`: جدول مدیریت کاربران
- [ ] **صفحات ادمین:**

  - [ ] `Dashboard`: داشبورد مدیریت
  - [ ] `UserManagement`: مدیریت کاربران
  - [ ] `Settings`: تنظیمات سیستم
  - [ ] `TokenManagement`: مدیریت توکن‌ها
- [ ] **سرویس‌های ادمین:**

  - [ ] `adminService`: سرویس اصلی ادمین
  - [ ] `reportService`: سرویس گزارش‌گیری
  - [ ] `userManagementService`: سرویس مدیریت کاربران

### ۴.۵. ماژول user (کاربر)

- [ ] **کامپوننت‌های کاربر:**

  - [ ] `UserLayout`: لایه اصلی بخش کاربر
  - [ ] `UserProfile`: پروفایل کاربر
  - [ ] `ActivityHistory`: تاریخچه فعالیت‌ها
- [ ] **صفحات کاربر:**

  - [ ] `Dashboard`: داشبورد کاربر
  - [ ] `Profile`: پروفایل کاربر
  - [ ] `MyTokens`: توکن‌های من
  - [ ] `AdvisorCenter`: مرکز مشاوره
- [ ] **سرویس‌های کاربر:**

  - [ ] `userService`: سرویس اصلی کاربر
  - [ ] `notificationService`: سرویس اعلان‌ها
  - [ ] `profileService`: سرویس پروفایل کاربر

## ۵. پیاده‌سازی سیستم مسیریابی

### ۵.۱. تنظیم ساختار مسیرها

- [X] **بازنویسی سیستم مسیریابی:**

  - [X] `client/src/routes/index.tsx`: مسیرهای اصلی
  - [X] مسیرهای مشاوره هوشمند
- [X] **پیاده‌سازی Lazy Loading:**

  - [X] استفاده از React.lazy برای لود تنبل کامپوننت‌ها
  - [X] پیاده‌سازی Suspense و Fallback مناسب

### ۵.۲. حفاظت از مسیرها

- [X] **پیاده‌سازی کامپوننت ProtectedRoute:**

  - [X] بررسی احراز هویت
  - [X] بررسی سطح دسترسی
  - [X] ریدایرکت در صورت عدم دسترسی
- [X] **مدیریت مسیرهای عمومی و خصوصی:**

  - [X] تعریف مسیرهای عمومی
  - [X] تعریف مسیرهای حفاظت شده
  - [X] تنظیم ریدایرکت‌های مناسب

## ۶. پیاده‌سازی سیستم‌های API و ارتباط با سرور

### ۶.۱. سیستم API در کلاینت

- [X] **کلاس پایه API:**

  - [X] پیاده‌سازی سرویس‌های API با axios
  - [X] مدیریت خطاها
- [X] **سرویس‌های API تخصصی:**

  - [X] `tokenService.ts`: API توکن
  - [X] `advisorService.ts`: API مشاوره

### ۶.۲. سیستم API در سرور

- [ ] **روترهای اصلی:**

  - [ ] `server/src/routes/index.ts`: مسیرهای اصلی
  - [ ] روترهای هر ماژول با پیشوند مناسب
- [ ] **کنترلرهای API:**

  - [ ] کنترلرهای مربوط به هر ماژول
  - [ ] تعریف schema اعتبارسنجی ورودی‌ها
- [ ] **میدلورهای API:**

  - [ ] میدلور احراز هویت
  - [ ] میدلور کنترل دسترسی
  - [ ] میدلور اعتبارسنجی ورودی‌ها

## ۷. پیاده‌سازی سیستم مدیریت حالت (State Management)

### ۷.۱. سیستم Context API

- [X] **کانتکست‌های اصلی:**

  - [X] `ThemeContext`: مدیریت تم و جهت
  - [X] `AuthContext`: مدیریت احراز هویت
  - [X] `NotificationContext`: مدیریت اعلان‌ها
- [X] **سیستم Provider تجمیعی:**

  - [X] `AppProviders`: ترکیب تمام Provider‌ها

### ۷.۲. سیستم Redux

- [X] **استور Redux:**

  - [X] `client/src/store/index.ts`: تنظیم استور اصلی
  - [X] افزودن ریدیوسرهای مدنظر
- [X] **Slice‌های Redux:**

  - [X] `tokenSlice.ts`: مدیریت توکن‌ها
  - [X] `advisorSlice.ts`: مدیریت مشاوره هوشمند

## ۸. سیستم مستندسازی

### ۸.۱. مستندسازی کد

- [X] **JSDoc برای تمام کامپوننت‌ها:**

  - [X] توضیح کامپوننت‌های مشاوره
  - [X] مستندسازی props
- [X] **مستندسازی API‌ها:**

  - [X] توضیح هر API مشاوره
  - [X] پارامترهای ورودی و خروجی

### ۸.۲. مستندات توسعه‌دهنده

- [X] **ایجاد و به‌روزرسانی مستندات:**

  - [X] `docs/README.md`: معرفی کلی پروژه
  - [X] `docs/v2-project-structure.md`: ساختار پروژه نسخه ۲
  - [X] `docs/architecture.md`: معماری پروژه
  - [X] `docs/development-guide.md`: راهنمای توسعه‌دهنده
- [X] **مستندات ماژول‌های کلیدی:**

  - [X] مستندات سیستم توکن مانیبل
  - [X] مستندات سیستم مشاوره هوشمند
  - [X] مستندات سیستم احراز هویت و دسترسی‌ها

## ۹. سیستم تست

### ۹.۱. تست‌های واحد

- [X] **تست‌های کامپوننت:**

  - [X] تست رندر شدن کامپوننت‌ها
  - [X] تست عملکرد و وضعیت‌ها
  - [X] تست رویدادها و تعاملات
- [X] **تست‌های سرویس‌ها:**

  - [X] تست سرویس‌های API
  - [X] تست سرویس‌های تجاری
  - [X] mock کردن درخواست‌های HTTP

### ۹.۲. تست‌های انتگریشن

- [X] **تست‌های انتگریشن کلاینت:**

  - [X] تست عملکرد چندین کامپوننت با هم
  - [X] تست مسیریابی و جریان‌های کاربری
- [X] **تست‌های انتگریشن سرور:**

  - [X] تست API‌ها با دیتابیس
  - [X] تست زنجیره‌ای سرویس‌ها

## ۱۰. آماده‌سازی برای استقرار

### ۱۰.۱. پیکربندی محیط‌های مختلف

- [X] **تنظیم فایل‌های محیطی:**

  - [X] `.env.development`: محیط توسعه
  - [X] `.env.staging`: محیط ارزیابی
  - [X] `.env.production`: محیط تولید
- [X] **اسکریپت‌های بیلد و دپلوی:**

  - [X] `package.json`: اسکریپت‌های بیلد برای محیط‌های مختلف
  - [X] `docker-compose.yml`: تنظیمات داکر برای استقرار

### ۱۰.۲. تنظیم CI/CD

- [X] **اسکریپت‌های CI/CD:**

  - [X] `.github/workflows/ci.yml`: تست و بیلد خودکار
  - [X] `.github/workflows/deploy.yml`: استقرار خودکار
- [X] **پیکربندی سرور مجازی:**

  - [X] تنظیم Nginx برای سرو فایل‌های استاتیک
  - [X] تنظیم PM2 برای اجرای سرور Node.js
  - [X] تنظیم SSL/TLS برای HTTPS

## لیست جزئیات ماژول‌های کلیدی

### ماژول توکن مانیبل (token)

- [X] **انواع توکن:**

  - [X] توکن پاداشی (Reward) - دارای تاریخ انقضا
  - [X] توکن خریداری شده (Purchased) - بدون تاریخ انقضا
  - [X] توکن وفاداری (Loyalty) - دارای تاریخ انقضا
- [X] **قوانین کسب توکن:**

  - [X] فعالیت‌های پاداشی (ثبت‌نام، تکمیل پروفایل، دعوت دوستان)
  - [X] سرمایه‌گذاری (تولید ماهانه توکن بر اساس میزان سرمایه)
  - [X] خرید مستقیم (تبدیل پول به توکن با نرخ‌های تشویقی)
- [X] **قوانین مصرف توکن:**

  - [X] تخفیف در خرید (5% تا 20% تخفیف)
  - [X] ارتقای خدمات (تمدید گارانتی، ارسال سریع، پشتیبانی ویژه)
  - [X] افزایش نرخ سود سرمایه‌گذاری (0.5% تا 2%)
  - [X] تبدیل به هدیه و جایزه (کارت هدیه، لوازم جانبی، محصولات)

### ماژول مشاوره هوشمند (advisor)

- [X] **سیستم مشاوره هوشمند:**

  - [X] تایپ‌های مربوط به ماژول مشاوره
  - [X] سرویس‌های ارتباطی با API مشاوره
  - [X] مدیریت وضعیت با Redux
  - [X] هوک‌های سفارشی برای دسترسی به عملکردها
- [X] **کامپوننت‌های مشاوره:**

  - [X] کامپوننت‌های لیست مشاوران
  - [X] کامپوننت‌های جزئیات مشاور
  - [X] کامپوننت‌های رزرو جلسه
  - [X] کامپوننت‌های مدیریت جلسات
- [X] **صفحات مشاوره:**

  - [X] صفحه نمایش مشاوران
  - [X] صفحه جزئیات مشاور
  - [X] صفحه جلسات مشاوره
  - [X] صفحه جزئیات جلسه

## لیست نیازهای خاص برای هر ماژول

### API‌های توکن مانیبل

- [X] **API‌های Frontend:**

  - [X] `getTokenBalance`: دریافت موجودی توکن
  - [X] `getTokenHistory`: دریافت تاریخچه تراکنش‌ها
  - [X] `useTokens`: استفاده از توکن‌ها
  - [X] `buyTokens`: خرید توکن
- [ ] **API‌های Backend:**

  - [ ] `POST /api/tokens/balance`: دریافت موجودی
  - [ ] `GET /api/tokens/history`: دریافت تاریخچه
  - [ ] `POST /api/tokens/redeem`: استفاده از توکن
  - [ ] `POST /api/tokens/purchase`: خرید توکن

### API‌های مشاوره هوشمند

- [X] **API‌های Frontend:**

  - [X] `getAdvisors`: دریافت لیست مشاوران
  - [X] `getAdvisorById`: دریافت اطلاعات یک مشاور
  - [X] `bookSession`: رزرو جلسه مشاوره
  - [X] `getSessions`: دریافت جلسات مشاوره
  - [X] `getSessionById`: دریافت جزئیات یک جلسه
  - [X] `addQuestion`: اضافه کردن سوال به جلسه
  - [X] `addFeedback`: ثبت بازخورد برای جلسه
  - [X] `cancelSession`: لغو جلسه مشاوره
- [ ] **API‌های Backend:**

  - [ ] `GET /api/advisors`: دریافت لیست مشاوران
  - [ ] `GET /api/advisors/:id`: دریافت اطلاعات مشاور
  - [ ] `POST /api/advisors/sessions/book`: رزرو جلسه
  - [ ] `GET /api/advisors/sessions`: دریافت جلسات
  - [ ] `POST /api/advisors/questions`: اضافه کردن سوال
  - [ ] `POST /api/advisors/feedback`: ثبت بازخورد

</div>

این چک‌لیست جامع می‌تواند به عنوان راهنمای دقیق برای توسعه منظم پروژه استفاده شود. هر بخش به طور سیستماتیک مشخص شده و می‌توان پیشرفت پروژه را با علامت‌گذاری موارد تکمیل شده دنبال کرد. این ساختار منظم باعث می‌شود تمام اعضای تیم توسعه درک مشترکی از مسیر پیش رو داشته باشند.
