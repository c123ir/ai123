# 10-MULTILINGUAL-RTL.md (ai123/documents/10-MULTILINGUAL-RTL.md)

# راهنمای چندزبانگی و پشتیبانی RTL

## مقدمه
پروژه SmartAi123 برای کاربران فارسی‌زبان طراحی شده و نیازمند پشتیبانی کامل از زبان فارسی و جهت راست به چپ (RTL) است. این سند نحوه پیاده‌سازی و مدیریت این قابلیت‌ها را شرح می‌دهد.

## زیرساخت چندزبانگی

### کتابخانه‌های مورد استفاده
- استفاده از `react-i18next` برای فرانت‌اند
- استفاده از `i18n` برای بک‌اند
- ذخیره‌سازی فایل‌های ترجمه در فرمت JSON

### ساختار فایل‌های زبان
```
/locales
  /fa
    common.json
    auth.json
    dashboard.json
  /en
    common.json
    auth.json
    dashboard.json
```

## پشتیبانی RTL

### استانداردها
- استفاده از ویژگی CSS `direction: rtl` برای محتوای فارسی
- پیاده‌سازی طرح‌بندی مناسب RTL با Flexbox یا Grid
- استفاده از متغیرهای CSS برای تغییر خودکار جهت عناصر

### پیاده‌سازی با Ant Design
- استفاده از `ConfigProvider` با تنظیم `direction="rtl"` برای مدیریت RTL در کل برنامه
- بهره‌گیری از کامپوننت‌های Ant Design با پشتیبانی کامل از RTL
- استفاده از `locale={faIR}` برای فارسی‌سازی تقویم و سایر کامپوننت‌ها

```tsx
import { ConfigProvider } from 'antd';
import faIR from 'antd/lib/locale/fa_IR';

// مثال پیاده‌سازی
<ConfigProvider direction="rtl" locale={faIR}>
  <App />
</ConfigProvider>
```

### چالش‌های RTL
- مدیریت حاشیه‌ها و پدینگ‌ها با استفاده از متغیرهای CSS
- مدیریت آیکون‌ها و عناصر جهت‌دار
- مقابله با باگ‌های مرورگر در حالت RTL

## فونت‌های فارسی

### فونت‌های پیشنهادی
- استفاده از فونت‌های Vazir، Samim یا IRANSans
- بارگذاری فونت‌ها با استفاده از @font-face
- استفاده از وزن‌های مختلف برای طراحی بهتر

### بهینه‌سازی فونت
- استفاده از فرمت WOFF2 برای کاهش حجم
- بارگذاری تنبل (Lazy Loading) فونت‌ها
- پیش‌بارگیری (Preloading) فونت‌های اصلی

## تقویم شمسی

### پیاده‌سازی
- استفاده از کتابخانه `jalali-moment` یا `@persian-tools/persian-date`
- نمایش تاریخ‌ها به فرمت شمسی در رابط کاربری
- پشتیبانی از ورودی تاریخ شمسی با استفاده از کامپوننت datepicker سازگار

### تبدیل تاریخ
- ذخیره‌سازی تاریخ‌ها در فرمت میلادی در پایگاه داده
- تبدیل به شمسی در لایه نمایش
- مدیریت مناسب تفاوت‌های روز، ماه و سال در تقویم شمسی و میلادی

## تبدیل اعداد فارسی/انگلیسی

### ابزارهای تبدیل
- استفاده از کتابخانه `persian-tools` یا توابع سفارشی
- تبدیل خودکار اعداد فارسی به انگلیسی هنگام ذخیره‌سازی
- تبدیل اعداد انگلیسی به فارسی هنگام نمایش

### موارد مهم تبدیل
- شماره تلفن‌ها
- کدهای تأیید
- مقادیر عددی فرم‌ها
- اطلاعات مالی و تراکنش‌ها

## تست و بررسی چندزبانگی
- تست خودکار نمایش صحیح متون RTL
- بررسی هماهنگی بین نسخه‌های مختلف زبانی
- تست سازگاری با فونت‌های فارسی در مرورگرهای مختلف

## بهترین شیوه‌ها
- استفاده از کلیدهای معنادار برای ترجمه‌ها
- جداسازی متن از کد
- عدم استفاده از محتوای هاردکد شده
- به‌روزرسانی مستمر فایل‌های ترجمه