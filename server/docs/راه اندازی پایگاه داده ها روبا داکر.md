ุฎู ุฎูุจุ ุจุง ุชูุฌู ุจู ูุฑุงุญู ฺฉู ุงูุฌุงู ุฏุงุฏูุ ูุณุชูุฏุงุช ุชฺฉูู ุฒุฑ ุฑุง ุจุฑุง ุชูุธู ู ุฑุงูโุงูุฏุงุฒ ูพุงฺฏุงู ุฏุงุฏู ุฏุฑ ุณุณุชูโูุง ูฺฉ ุฌุฏุฏ ุขูุงุฏู ฺฉุฑุฏูโุงู:

# ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ ูพุงฺฏุงู ุฏุงุฏู ูพุฑูฺู ุฏุณุชุงุฑ ููุดููุฏ ฑฒณ ุฏุฑ ุณุณุชูโูุง ูฺฉ

ุงู ุฑุงูููุง ุจุฑุง ุฑุงูโุงูุฏุงุฒ ูพุงฺฏุงู ุฏุงุฏู ูพุฑูฺู ุฏุณุชุงุฑ ููุดููุฏ ฑฒณ ุฏุฑ ุณุณุชูโูุง ูฺฉ ุฌุฏุฏ ุชูู ุดุฏู ุงุณุช. ุฑูุด ุงุฑุงุฆู ุดุฏู ุจุฑ ูพุงู ุฏุงฺฉุฑ ุจูุฏู ู ูุงุฒ ุจู ูุตุจ ุฌุฏุงฺฏุงูู PostgreSQL ู Redis ูุฏุงุฑุฏ.

## ูพุดโูุงุฒูุง

- ูุตุจ [Docker Desktop ุจุฑุง Mac](https://www.docker.com/products/docker-desktop/)
- ุณุณุชูโุนุงูู macOS 12 ุง ุจุงูุงุชุฑ
- ุญุฏุงูู 4GB ูุถุง ุฎุงู ุฏุณฺฉ
- ุงุทููุงู ุงุฒ ุงุฌุฑุง ุณุฑูุณ Docker

## ูุฑุงุญู ุฑุงูโุงูุฏุงุฒ

### 1. ุฑุงูโุงูุฏุงุฒ ฺฉุงูุชูุฑูุง ุฏุงฺฉุฑ

1. ุจู ุฏุงุฑฺฉุชูุฑ ุณุฑูุฑ ุจุฑูุฏ:
   ```bash
   cd server
   ```

2. ุจุง ุงุณุชูุงุฏู ุงุฒ Docker Composeุ ุณุฑูุณโูุง ูพุงฺฏุงู ุฏุงุฏู ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ:
   ```bash
   docker-compose up -d
   ```

   ุงู ุฏุณุชูุฑ ุฏู ฺฉุงูุชูุฑ ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ:
   - **PostgreSQL**: ุฑู ูพูุฑุช 5433 (ุจู ุฌุง ูพูุฑุช ุงุณุชุงูุฏุงุฑุฏ 5432)
   - **Redis**: ุฑู ูพูุฑุช 6380 (ุจู ุฌุง ูพูุฑุช ุงุณุชุงูุฏุงุฑุฏ 6379)

3. ุจุฑุง ุจุฑุฑุณ ูุถุนุช ฺฉุงูุชูุฑูุงุ ูโุชูุงูุฏ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:
   ```bash
   docker ps
   ```

### 2. ุงุฌุฑุง ููุงุฌุฑุชโูุง ูพุงฺฏุงู ุฏุงุฏู

ุจุฑุง ุงุฌุงุฏ ุณุงุฎุชุงุฑ ุฌุฏุงูู ุฏุฑ ูพุงฺฏุงู ุฏุงุฏูุ ุจุงุฏ ููุงุฌุฑุชโูุง ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```bash
npx ts-node src/migrations/run-migrations.ts
```

ูพุณ ุงุฒ ุงุฌุฑุง ููููุชโุขูุฒุ ุจุงุฏ ูพุงู ุฒุฑ ุฑุง ูุดุงูุฏู ฺฉูุฏ:
```
โ ููุงุฌุฑุชโูุง ูพุงฺฏุงู ุฏุงุฏู ุจุง ููููุช ฺฉุงูู ุดุฏ
```

### 3. ุจุฑุฑุณ ุตุญุช ุฑุงูโุงูุฏุงุฒ

ุจุฑุง ุงุทููุงู ุงุฒ ุตุญุช ุฑุงูโุงูุฏุงุฒ ูพุงฺฏุงู ุฏุงุฏูุ ูโุชูุงูุฏ:

1. ูุถุนุช ุฌุฏุงูู ุงุฌุงุฏ ุดุฏู ุฑุง ุจุฑุฑุณ ฺฉูุฏ:
   ```bash
   docker exec -it computer123_postgres psql -U postgres -d computer123 -c "\dt"
   ```

   ุจุงุฏ ุฌุฏุงูู `users`ุ `notifications` ู `migrations` ุฑุง ูุดุงูุฏู ฺฉูุฏ.

2. ุงุฌุฑุง ุณุฑูุฑ ุจุฑุง ุชุฃุฏ ุงุชุตุงู:
   ```bash
   npm run dev
   ```

   ูพุณ ุงุฒ ุฑุงูโุงูุฏุงุฒ ููููุ ูพุงู ุฒุฑ ููุงุด ุฏุงุฏู ูโุดูุฏ:
   ```
   info: โ ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู ุจุง ููููุช ุจุฑูุฑุงุฑ ุดุฏ
   ๐ ุณุฑูุฑ ุฑู ูพูุฑุช 5454 ุฏุฑ ุญุงู ุงุฌุฑุงุณุช
   ```

## ูุฏุฑุช ูพุงฺฏุงู ุฏุงุฏู

### ุฏุณุชูุฑุงุช ููุฏ ุฏุงฺฉุฑ

- **ุชููู ฺฉุงูุชูุฑูุง**:
  ```bash
  docker-compose down
  ```

- **ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ฺฉุงูุชูุฑูุง**:
  ```bash
  docker-compose up -d
  ```

- **ูุดุงูุฏู ูุงฺฏโูุง ฺฉุงูุชูุฑูุง**:
  ```bash
  docker logs computer123_postgres
  docker logs computer123_redis
  ```

- **ุงุชุตุงู ูุณุชูู ุจู ูพุงฺฏุงู ุฏุงุฏู**:
  ```bash
  docker exec -it computer123_postgres psql -U postgres -d computer123
  ```

### ุชูุธูุงุช ูพุงฺฏุงู ุฏุงุฏู

ูพฺฉุฑุจูุฏ ูพุงฺฏุงู ุฏุงุฏู ุฏุฑ ูุงูโูุง ุฒุฑ ูุฑุงุฑ ุฏุงุฑุฏ:

1. **docker-compose.yml**: ุชูุธูุงุช ฺฉุงูุชูุฑูุง Docker
   - ูพูุฑุช PostgreSQL: 5433
   - ูพูุฑุช Redis: 6380
   - ูุงู ฺฉุงุฑุจุฑ PostgreSQL: postgres
   - ุฑูุฒ ุนุจูุฑ PostgreSQL: postgres
   - ูุงู ูพุงฺฏุงู ุฏุงุฏู: computer123

2. **.env**: ุชูุธูุงุช ูุชุบุฑูุง ูุญุท ุจุฑุง ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู
   ```
   DB_HOST=localhost
   DB_PORT=5433
   DB_NAME=computer123
   DB_USER=postgres
   DB_PASSWORD=postgres

   REDIS_HOST=localhost
   REDIS_PORT=6380
   REDIS_PASSWORD=
   ```

3. **src/config/database.ts**: ฺฉุฏ ูพฺฉุฑุจูุฏ ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู

## ุญู ูุดฺฉูุงุช ุฑุงุฌ

### ูุดฺฉู 1: ุฎุทุง ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู

**ุนูุงุฆู:**
- ูพุงู ุฎุทุง "Failed to connect to database"
- ุณุฑูุฑ ุจุง ุฎุทุง ููุงุฌู ูโุดูุฏ

**ุฑุงู ุญู:**
1. ุจุฑุฑุณ ูุถุนุช ฺฉุงูุชูุฑูุง:
   ```bash
   docker ps
   ```
2. ุฏุฑ ุตูุฑุช ุนุฏู ุงุฌุฑุง ฺฉุงูุชูุฑูุงุ ูุฌุฏุฏุงู ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ:
   ```bash
   docker-compose up -d
   ```
3. ุจุฑุฑุณ ุชุทุงุจู ุชูุธูุงุช `.env` ุจุง `docker-compose.yml`

### ูุดฺฉู 2: ุฎุทุง ุฏุฑ ุงุฌุฑุง ููุงุฌุฑุชโูุง

**ุนูุงุฆู:**
- ูพุงู ุฎุทุง "Error in running migration"

**ุฑุงู ุญู:**
1. ุจุฑุฑุณ ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู
2. ุจุฑุฑุณ ุฏุณุชุฑุณโูุง ฺฉุงุฑุจุฑ ูพุงฺฏุงู ุฏุงุฏู
3. ุฏุฑ ุตูุฑุช ูุงุฒ ุจู ุดุฑูุน ูุฌุฏุฏุ ูโุชูุงูุฏ ูพุงฺฏุงู ุฏุงุฏู ุฑุง ุจุงุฒูุดุงู ฺฉูุฏ:
   ```bash
   docker-compose down -v
   docker-compose up -d
   ```
   ุณูพุณ ูุฌุฏุฏุงู ููุงุฌุฑุชโูุง ุฑุง ุงุฌุฑุง ฺฉูุฏ.

### ูุดฺฉู 3: ุชุฏุงุฎู ูพูุฑุชโูุง

**ุนูุงุฆู:**
- ูพุงู ุฎุทุง "Port is already in use"

**ุฑุงู ุญู:**
1. ุจุฑุฑุณ ูพูุฑุชโูุง ุฏุฑ ุญุงู ุงุณุชูุงุฏู:
   ```bash
   lsof -i :5433
   lsof -i :6380
   ```
2. ุชุบุฑ ูพูุฑุชโูุง ุฏุฑ ูุงู `docker-compose.yml` ู `.env`

## ูพุดุชุจุงู ุงุฒ ุฏุงุฏูโูุง

ุจุฑุง ุงุทููุงู ุงุฒ ุญูุธ ุฏุงุฏูโูุงุ ูโุชูุงูุฏ:

1. **ุชูู ูุณุฎู ูพุดุชุจุงู**:
   ```bash
   docker exec -t computer123_postgres pg_dump -U postgres -d computer123 > backup.sql
   ```

2. **ุจุงุฒุงุจ ูุณุฎู ูพุดุชุจุงู**:
   ```bash
   cat backup.sql | docker exec -i computer123_postgres psql -U postgres -d computer123
   ```

---

ุจุง ูพุฑู ุงุฒ ุงู ุฑุงูููุงุ ูพุงฺฏุงู ุฏุงุฏู ูพุฑูฺู ุฏุณุชุงุฑ ููุดููุฏ ฑฒณ ุจุง ููููุช ุฏุฑ ุณุณุชู ูฺฉ ุดูุง ุฑุงูโุงูุฏุงุฒ ุฎูุงูุฏ ุดุฏ. ุฏุฑ ุตูุฑุช ููุงุฌูู ุจุง ูุดฺฉูุ ุจู ุจุฎุด "ุญู ูุดฺฉูุงุช ุฑุงุฌ" ูุฑุงุฌุนู ฺฉูุฏ ุง ุจุง ุชู ูพุดุชุจุงู ุชูุงุณ ุจฺฏุฑุฏ.
